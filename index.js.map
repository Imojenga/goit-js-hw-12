{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCard = imgInfo => {\n  return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n      <img\n        class=\"gallery-img\"\n        src=\"${imgInfo.webformatURL}\"\n        alt=\"${imgInfo.tags}\"\n      />\n    </a>\n    <ul class=\"gallery-list\">\n      <li class=\"gallery-list-item\">\n        <p class=\"gallery-list-text-name\">Likes</p>\n        <p class=\"gallery-list-text\">${imgInfo.likes}</p>\n      </li>\n      <li class=\"gallery-list-item\">\n        <p class=\"gallery-list-text-name\">Views</p>\n        <p class=\"gallery-list-text\">${imgInfo.views}</p>\n      </li>\n      <li class=\"gallery-list-item\">\n        <p class=\"gallery-list-text-name\">Comments</p>\n        <p class=\"gallery-list-text\">${imgInfo.comments}</p>\n      </li>\n      <li class=\"gallery-list-item\">\n        <p class=\"gallery-list-text-name\">Downloads</p>\n        <p class=\"gallery-list-text\">${imgInfo.downloads}</p>\n      </li>\n    </ul>\n  </li>`;\n};\n","export const fetchByQuery = userQuery => {\n  const searchParams = new URLSearchParams({\n    key: '48469093-05e82502d9118a70767c30ea2',\n    q: `${userQuery}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport axios from 'axios';\nimport { createGalleryCard } from './js/render-functions';\nimport { fetchByQuery } from './js/pixabay-api';\n\nconst formEl = document.querySelector('.search-form');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nloaderEl.style.display = 'none';\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  galleryEl.innerHTML = '';\n  loaderEl.style.display = 'block';\n\n  const userQuery = event.currentTarget.elements.user_query.value.trim();\n\n  if (!userQuery) {\n    event.currentTarget.elements.user_query.value = '';\n    loaderEl.style.display = 'none';\n    return;\n  }\n\n  fetchByQuery(userQuery)\n    .then(data => {\n      loaderEl.style.display = 'none';\n\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching</br> your search query. Please try again!',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          messageLineHeight: '24px',\n          backgroundColor: '#ef4040',\n          theme: 'dark',\n          position: 'topRight',\n          progressBarColor: '#b51b1b',\n        });\n\n        formEl.reset();\n        return;\n      }\n\n      const createGallery = data.hits\n        .map(image => createGalleryCard(image))\n        .join('');\n\n      galleryEl.innerHTML = createGallery;\n\n      const modalWindow = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n      });\n\n      modalWindow.refresh();\n    })\n    .catch(error => {\n      loaderEl.style.display = 'none';\n      console.log(error);\n    });\n};\n\nformEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCard","imgInfo","fetchByQuery","userQuery","searchParams","response","formEl","galleryEl","loaderEl","onSearchFormSubmit","event","data","iziToast","createGallery","image","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAoBC,GACxB;AAAA,oCAC2BA,EAAQ,aAAa;AAAA;AAAA;AAAA,eAG1CA,EAAQ,YAAY;AAAA,eACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMYA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,uCAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA,SCxB3CC,EAAeC,GAAa,CACvC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGD,CAAS,GACf,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECRMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAEjDA,EAAS,MAAM,QAAU,OAEzB,MAAMC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpBH,EAAU,UAAY,GACtBC,EAAS,MAAM,QAAU,QAEzB,MAAML,EAAYO,EAAM,cAAc,SAAS,WAAW,MAAM,OAEhE,GAAI,CAACP,EAAW,CACdO,EAAM,cAAc,SAAS,WAAW,MAAQ,GAChDF,EAAS,MAAM,QAAU,OACzB,MACD,CAEDN,EAAaC,CAAS,EACnB,KAAKQ,GAAQ,CAGZ,GAFAH,EAAS,MAAM,QAAU,OAErBG,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,KAAK,CACZ,QACE,gFACF,aAAc,UACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,MAAO,OACP,SAAU,WACV,iBAAkB,SAC5B,CAAS,EAEDN,EAAO,MAAK,EACZ,MACD,CAED,MAAMO,EAAgBF,EAAK,KACxB,IAAIG,GAASd,EAAkBc,CAAK,CAAC,EACrC,KAAK,EAAE,EAEVP,EAAU,UAAYM,EAEF,IAAIE,EAAe,aAAc,CACnD,aAAc,KACtB,CAAO,EAEW,QAAO,CACzB,CAAK,EACA,MAAMC,GAAS,CACdR,EAAS,MAAM,QAAU,OACzB,QAAQ,IAAIQ,CAAK,CACvB,CAAK,CACL,EAEAV,EAAO,iBAAiB,SAAUG,CAAkB"}